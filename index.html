<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Email Generator ‚Äî Neon + Motion</title>
<style>
  :root{
    --bg:#05060a;
    --card:#0b0f14;
    --mut:#99a0b3;
    --accent:#00e0ff;
    --accent-strong:#00b3ff;
    --accent-mag:#c600ff;
    --soft:#08121a;
    --shadow: 0 10px 30px rgba(0,0,0,0.6);
    --danger:#ff5577;
    --danger-bg:rgba(255,85,119,0.06);
    --confetti-1:#00e0ff;
    --confetti-2:#c600ff;
    --confetti-3:#7cff6b;
    --confetti-4:#ffd166;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial;
    -webkit-font-smoothing:antialiased;
    background:
      radial-gradient(1200px 400px at 10% 12%, rgba(0,179,255,0.04), transparent 6%),
      radial-gradient(800px 300px at 90% 85%, rgba(198,0,255,0.03), transparent 6%),
      linear-gradient(120deg, rgba(6,7,12,1) 0%, rgba(3,4,8,1) 50%, rgba(6,7,12,1) 100%);
    color:#e6eef9;
    overflow-y:auto;
  }

  /* subtle moving gradient overlay */
  .bg-motion{
    position:fixed;inset:0;z-index:0;pointer-events:none;
    background:linear-gradient(120deg, rgba(0,179,255,0.03), rgba(198,0,255,0.03), rgba(124,255,107,0.02));
    mix-blend-mode: overlay;opacity:0.9;animation:moveBg 18s linear infinite;
    filter:blur(40px);
  }
  @keyframes moveBg{
    0%{transform:translateX(-8%) translateY(-4%) scale(1)}
    50%{transform:translateX(8%) translateY(4%) scale(1.02)}
    100%{transform:translateX(-8%) translateY(-4%) scale(1)}
  }

  .wrap{position:relative;z-index:1;max-width:560px;margin:18px auto;padding:8px}
  .card{
    position:relative;background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.005));
    border-radius:14px;padding:10px;box-shadow: 0 8px 40px rgba(0,0,0,0.65), inset 0 1px 0 rgba(255,255,255,0.02);
    border:1px solid rgba(0,255,255,0.04);backdrop-filter: blur(6px);
    overflow:visible;
  }

  /* sheen shimmer across card */
  .card::after{
    content:"";position:absolute;left:-60%;top:-20%;width:220%;height:160%;
    background:linear-gradient(90deg, rgba(255,255,255,0.00) 0%, rgba(255,255,255,0.04) 45%, rgba(255,255,255,0.00) 55%);
    transform:rotate(-18deg) translateX(-30%);opacity:0.0;pointer-events:none;
    animation:shimmer 6s linear infinite;
    mix-blend-mode:overlay;border-radius:16px;
  }
  @keyframes shimmer{
    0%{opacity:0;transform:rotate(-18deg) translateX(-30%)}
    30%{opacity:0.12;transform:rotate(-18deg) translateX(10%)}
    60%{opacity:0.12;transform:rotate(-18deg) translateX(30%)}
    100%{opacity:0;transform:rotate(-18deg) translateX(70%)}
  }

  header{text-align:center;padding-bottom:6px}
  .icon{width:42px;height:42px;margin:0 auto 6px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;color:var(--accent);
    background:radial-gradient(circle at 30% 30%, rgba(0,224,255,0.12), rgba(198,0,255,0.06));
    box-shadow:0 6px 18px rgba(0,179,255,0.06), 0 0 18px rgba(0,179,255,0.08) inset;
  }

  h1{font-size:17px;margin:0;font-weight:800;color:#eaf6ff;text-shadow:0 2px 14px rgba(0,179,255,0.04)}
  p.lead{font-size:12px;margin:4px 0;color:var(--mut)}

  label{font-weight:700;font-size:12px;margin-bottom:4px;display:block;color:#dfe9ff}
  input, textarea{
    width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);font-size:13px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));color:#e8f6ff;
    box-shadow:0 6px 16px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.01);
  }
  input::placeholder, textarea::placeholder{color:rgba(230,246,255,0.45)}

  .grid{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
  .method{
    flex:1 1 48%;padding:6px 10px;min-height:40px;background:linear-gradient(180deg, rgba(255,255,255,0.005), rgba(255,255,255,0.002));
    border-radius:8px;border:1px solid rgba(255,255,255,0.03);font-size:12px;font-weight:700;cursor:pointer;text-align:center;color:#cfeeff;transition:all .16s;
    box-shadow:0 6px 18px rgba(3,8,15,0.6);
  }
  .method:hover{transform:translateY(-3px)}
  .method.active{
    color:white;
    background: linear-gradient(90deg, rgba(0,224,255,0.14), rgba(198,0,255,0.08));
    border:1px solid rgba(0,224,255,0.36);
    box-shadow:0 8px 30px rgba(0,179,255,0.10),0 0 22px rgba(0,224,255,0.12);
    text-shadow:0 2px 8px rgba(0,179,255,0.14);
  }

  .warn{margin-top:4px;font-size:12px;color:var(--danger);background:var(--danger-bg);padding:6px 10px;border-radius:6px;display:none;border:1px solid rgba(255,85,119,0.10)}

  .preview{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));border:1px solid rgba(0,255,255,0.03);padding:8px;border-radius:8px;margin-top:10px;font-size:13px;color:#dffaff;box-shadow:0 8px 30px rgba(0,0,0,0.55), inset 0 1px 0 rgba(255,255,255,0.01)}

  .footerbar{text-align:center;margin-top:12px;font-size:12px;color:var(--mut)}

  /* button styling preserved size, but with neon glow + hover & active microinteraction */
  .btn{width:100%;padding:10px;border:none;border-radius:8px;font-size:13px;font-weight:800;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:transform .12s, box-shadow .12s}
  .btn.primary{
    background:linear-gradient(90deg,var(--accent), var(--accent-mag));
    color:#051426;
    box-shadow:0 8px 40px rgba(0,179,255,0.18), 0 0 40px rgba(0,224,255,0.12) inset;
    border:1px solid rgba(255,255,255,0.06);
    text-shadow:0 2px 8px rgba(0,0,0,0.25);
  }
  .btn.primary:hover{ transform:translateY(-3px); box-shadow: 0 14px 60px rgba(0,179,255,0.22), 0 0 60px rgba(198,0,255,0.08);}
  .btn.primary:active{ transform:translateY(1px) scale(.995); box-shadow:0 6px 20px rgba(0,179,255,0.12)}

  .btn-area{position:relative;margin-top:14px}

  /* badge */
  .copy-badge{
    position:absolute;top:-48px;right:0;transform:translateX(110%);opacity:0;
    background:linear-gradient(90deg,var(--accent-strong), var(--accent-mag));
    color:#fff;padding:8px 12px;border-radius:10px;display:flex;gap:8px;align-items:center;
    box-shadow:0 14px 40px rgba(0,179,255,0.18),0 0 30px rgba(198,0,255,0.06);
    transition:transform .32s cubic-bezier(.22,.9,.25,1), opacity .2s ease;pointer-events:none;white-space:nowrap;font-weight:800;font-size:14px;
  }
  .copy-badge.show{transform:translateX(0);opacity:1;}
  .copy-badge .check{width:22px;height:22px;border-radius:6px;background:rgba(255,255,255,0.12);display:flex;align-items:center;justify-content:center;font-weight:900;color:#fff}

  /* confetti container & piece */
  .confetti-wrap{position:absolute;top:-12px;right:18px;width:1px;height:1px;pointer-events:none;overflow:visible}
  .confetti-piece{
    position:absolute;left:0;top:0;width:8px;height:8px;border-radius:2px;opacity:0;transform:translateY(0) scale(1);
    will-change:transform,opacity;
  }

  /* confetti animation keyframes */
  @keyframes confettiFly{
    0%{opacity:1;transform:translate(0,0) rotate(0) scale(1)}
    60%{opacity:1}
    100%{opacity:0;transform:translate(var(--tx), var(--ty)) rotate(360deg) scale(.7)}
  }

  /* responsive tweaks */
  @media (max-width:420px){
    .wrap{padding:6px}
    .copy-badge{top:-44px;font-size:13px;padding:6px 10px}
  }

  /* focus outlines tuned for neon */
  button:focus, input:focus, textarea:focus{
    outline:3px solid rgba(0,224,255,0.12);outline-offset:2px;
  }
</style>
</head>
<body>
  <!-- moving gradient overlay -->
  <div class="bg-motion" aria-hidden="true"></div>

  <main class="wrap" aria-live="polite">
    <div class="card" role="application" aria-label="Email generator neon motion">
      <header>
        <div class="icon" aria-hidden="true">‚úâÔ∏è</div>
        <h1>Email Generator</h1>
        <p class="lead">Buat varian email dengan berbagai metode</p>
      </header>

      <label>Username Email</label>
      <input id="inpName" placeholder="namaanda" autocomplete="off">
      <div id="warnName" class="warn">‚ö†Ô∏è Isi Username terlebih dahulu sebelum klik Buat & Salin</div>

      <label style="margin-top:10px">Domain Email</label>
      <input id="inpDomain" value="gmail.com">

      <label style="margin-top:12px">Metode Username:</label>
      <div class="grid" id="methodsUser">
        <button class="method active" data-method="plus">Plus (+)</button>
        <button class="method" data-method="dot">Titik (.)</button>
        <button class="method" data-method="upper">UPPERCASE</button>
        <button class="method active" data-method="lower">lowercase</button>
      </div>

      <label style="margin-top:10px">Custom + tag</label>
      <input id="plusTag" placeholder="contoh: tokoku (tanpa +)">

      <label style="margin-top:12px">Metode Domain:</label>
      <div class="grid" id="methodsDom">
        <button class="method" data-method="domRandom">Random Case</button>
        <button class="method active" data-method="domAsIs">As-is</button>
      </div>

      <!-- Button area with badge + confetti wrapper -->
      <div class="btn-area" style="margin-top:14px">
        <div id="copyBadge" class="copy-badge" aria-hidden="true"><span class="check">‚úî</span><span id="copyBadgeText">Tersalin!</span></div>

        <div class="confetti-wrap" id="confettiWrap" aria-hidden="true"></div>

        <button id="btnCreate" class="btn primary" title="Buat & Salin">üìã Buat & Salin</button>
      </div>

      <div class="preview" id="previewBox">
        <div style="font-size:12px;color:var(--mut)">Email yang dibuat:</div>
        <div id="previewText" style="margin-top:6px">-</div>
      </div>

      <div class="footerbar">Nomor urut: <b id="counter">0</b></div>
    </div>
  </main>

<script>
(function(){
  const $ = id => document.getElementById(id);

  const inpName = $('inpName'), inpDomain = $('inpDomain'), plusTag = $('plusTag');
  const methodsUser = $('methodsUser'), methodsDom = $('methodsDom');
  const warnName = $('warnName'), btnCreate = $('btnCreate'), previewText = $('previewText'), counter = $('counter');
  const copyBadge = $('copyBadge'), copyBadgeText = $('copyBadgeText');
  const confettiWrap = $('confettiWrap');

  // toggle helpers (no size change)
  function wireToggle(container, radio=false){
    container.addEventListener('click', e=>{
      const btn = e.target.closest('button[data-method]');
      if(!btn) return;
      if(radio){
        Array.from(container.querySelectorAll('button[data-method]')).forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
      } else {
        btn.classList.toggle('active');
      }
    });
  }
  wireToggle(methodsUser, false);
  wireToggle(methodsDom, true);

  // warn show/hide
  inpName.addEventListener('input', ()=> {
    warnName.style.display = inpName.value.trim()==='' ? 'block' : 'none';
  });

  function readOpts(container){
    const out = {};
    Array.from(container.querySelectorAll('button[data-method]')).forEach(b => out[b.dataset.method] = b.classList.contains('active'));
    return out;
  }

  function applyDot(n){ if(n.length<=2) return n.split('').join('.'); return n.slice(0,2) + '.' + n.slice(2); }
  function applyPlus(n, tag){ if(tag && tag.trim()) return n + '+' + tag.trim().replace(/^\+/, ''); return n + '+id'; }
  function randomCase(s){ return Array.from(s).map(c => Math.random() < 0.5 ? c.toLowerCase() : c.toUpperCase()).join(''); }
  function transformUsername(base, opts, tag){
    let u = base;
    if(opts.dot) u = applyDot(u);
    if(opts.plus) u = applyPlus(u, tag);
    if(opts.upper && !opts.lower) u = u.toUpperCase();
    else u = u.toLowerCase();
    return u.replace(/\s+/g, '.');
  }
  function domainTransform(domain, domOpts){ if(domOpts.domRandom) return randomCase(domain); return domain; }

  function makeEmail(){
    const name = inpName.value.trim();
    if(!name) return '';
    const uopts = readOpts(methodsUser);
    const domOpts = readOpts(methodsDom);
    const username = transformUsername(name, uopts, plusTag.value);
    const domain = domainTransform((inpDomain.value.trim() || 'gmail.com'), domOpts);
    return username + '@' + domain;
  }

  async function copyToClipboard(text){
    if(!text) return false;
    try {
      if(navigator.clipboard && navigator.clipboard.writeText){
        await navigator.clipboard.writeText(text);
        return true;
      }
    } catch(e){
      console.warn('navigator.clipboard failed', e);
    }
    try {
      const ta = document.createElement('textarea');
      ta.value = text;
      ta.style.position = 'fixed';
      ta.style.left = '-9999px';
      document.body.appendChild(ta);
      ta.focus();
      ta.select();
      const ok = document.execCommand('copy');
      document.body.removeChild(ta);
      return ok;
    } catch(err) {
      console.warn('execCommand fallback failed', err);
      return false;
    }
  }

  // show sliding badge
  function showCopyBadge(msg){
    copyBadgeText.textContent = msg || 'Tersalin!';
    copyBadge.classList.add('show');
    copyBadge.setAttribute('aria-hidden','false');
    clearTimeout(copyBadge._t);
    copyBadge._t = setTimeout(()=> {
      copyBadge.classList.remove('show');
      copyBadge.setAttribute('aria-hidden','true');
    }, 1500);
  }

  // create confetti pieces and animate
  function spawnConfetti(){
    // remove previous if any
    while(confettiWrap.firstChild) confettiWrap.removeChild(confettiWrap.firstChild);
    const pieces = 12;
    for(let i=0;i<pieces;i++){
      const el = document.createElement('div');
      el.className = 'confetti-piece';
      // random color
      const colors = ['var(--confetti-1)','var(--confetti-2)','var(--confetti-3)','var(--confetti-4)'];
      el.style.background = colors[Math.floor(Math.random()*colors.length)];
      // random angle/distance
      const angle = (Math.random()*120 - 60); // -60 .. 60 degrees
      const dist = 60 + Math.random()*80; // px
      const tx = Math.cos(angle * Math.PI/180) * dist;
      const ty = Math.sin(angle * Math.PI/180) * dist + (20 + Math.random()*40);
      el.style.setProperty('--tx', tx.toFixed(1) + 'px');
      el.style.setProperty('--ty', ty.toFixed(1) + 'px');
      el.style.left = '0px'; el.style.top = '0px';
      // staggered delay
      const delay = Math.random()*0.08;
      el.style.animation = `confettiFly 900ms cubic-bezier(.2,.8,.25,1) ${delay}s forwards`;
      confettiWrap.appendChild(el);
      // cleanup after animation
      setTimeout(()=>{ if(el && el.parentNode) el.parentNode.removeChild(el); }, 1300 + delay*1000);
    }
  }

  // button press effect (pulse)
  function pulseButton(btnEl){
    btnEl.animate([
      { boxShadow: '0 8px 40px rgba(0,179,255,0.18), 0 0 40px rgba(0,224,255,0.12) inset', transform:'scale(1)' },
      { boxShadow: '0 16px 80px rgba(0,179,255,0.28), 0 0 80px rgba(198,0,255,0.18) inset', transform:'scale(1.02)' },
      { boxShadow: '0 8px 40px rgba(0,179,255,0.18), 0 0 40px rgba(0,224,255,0.12) inset', transform:'scale(1)' }
    ], {duration:420, easing:'cubic-bezier(.2,.8,.25,1)'});
  }

  // main click flow: copy -> badge + confetti -> show preview -> increment
  let seq = 0;
  btnCreate.addEventListener('click', async ()=>{
    const email = makeEmail();
    if(!email){
      warnName.style.display = 'block';
      inpName.focus();
      btnCreate.animate([{transform:'translateX(0)'},{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}], {duration:220,iterations:1});
      return;
    }
    // try copy
    const ok = await copyToClipboard(email);
    if(ok){
      showCopyBadge('Tersalin!');
      spawnConfetti();
      pulseButton(btnCreate);
    } else {
      showCopyBadge('Salin manual');
    }
    seq += 1;
    counter.textContent = seq;
    previewText.textContent = email;
  });

  // init
  warnName.style.display = 'none';
})();
</script>
</body>
</html>
